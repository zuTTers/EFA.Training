!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-scanner-qrcode",["exports","rxjs","@angular/core"],t):t(e["ngx-scanner-qrcode"]={},e.rxjs,e.ng.core)}(this,function(e,a,t){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function h(e,a,c,s){return new(c||(c=Promise))(function(t,n){function r(e){try{i(s.next(e))}catch(t){n(t)}}function o(e){try{i(s["throw"](e))}catch(t){n(t)}}function i(e){e.done?t(e.value):function n(t){return t instanceof c?t:new c(function(e){e(t)})}(e.value).then(r,o)}i((s=s.apply(e,a||[])).next())})}function p(r,o){var i,a,c,e,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function n(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(c=2&e[0]?a["return"]:e[0]?a["throw"]||((c=a["return"])&&c.call(a),0):a.next)&&!(c=c.call(a,e[1])).done)return c;switch(a=0,c&&(e=[2&e[0],c.value]),e[0]){case 0:case 1:c=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,a=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(c=0<(c=s.trys).length&&c[c.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!c||e[1]>c[0]&&e[1]<c[3])){s.label=e[1];break}if(6===e[0]&&s.label<c[1]){s.label=c[1],c=e;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(e);break}c[2]&&s.ops.pop(),s.trys.pop();continue}e=o.call(r,s)}catch(t){e=[6,t],a=0}finally{i=c=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function T(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var i={audio:!1,video:!0},s={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,deviceActive:0,constraints:i},f=this,d=function(e,t,n){void 0===n&&(n=null),n?e.error(n):e.next(t),e.complete()},l=function(e){if(void 0===e&&(e=!1),!1!==e){var t=new Audio("data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU"+Array(300).join("101"));t.oncanplaythrough=function(){var e=t.play();e&&e["catch"](function(e){"NotAllowedError"===e.name||e.name})}}},D=function(e,t){for(var n=t.split("."),r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o))return!1;e=e[o]}return!0},u=function(e,t,n){var r,o,i=t.width,a=t.height,c=i/a,s=parseInt(getComputedStyle(t).width),d=parseInt(getComputedStyle(t).height),l=s/d;n.innerHTML="",l<c?(r=s/i,o=s/c/a):(o=d/a,r=d*c/i);for(var u=0;u<e.length;u++){for(var h=e[u],p=document.createElement("canvas"),f=p.getContext("2d",{willReadFrequently:!0}),v={},C=[],_=[],m=h.points,y=0;y<m.length;y++){var g=D(m,y+".x")?m[y].x:0,S=D(m,y+".y")?m[y].y:0;v["x"+(y+1)]=g,v["y"+(y+1)]=S,C.push(g),_.push(S)}var R=Math.max.apply(Math,T(C)),b=Math.min.apply(Math,T(C)),E=Math.max.apply(Math,T(_)),A=Math.min.apply(Math,T(_));p.setAttribute("class","qrcode-polygon"),l<c?(p.style.top=A*o+.5*(d-s/c)+"px",p.style.left=b*r+"px",p.width=(R-b)*r,p.height=(E-A)*r):(p.style.top=A*o+"px",p.style.left=b*r+.5*(s-d*c)+"px",p.width=(R-b)*o,p.height=(E-A)*o),f.lineWidth=1,f.strokeStyle="green",f.fillStyle="#55f02880";for(var w=[],Q=0;Q<C.length;Q++)w.push((v["x"+(Q+1)]-b)*o),w.push((v["y"+(Q+1)]-A)*r);var N=w.slice(0);for(f.beginPath(),f.moveTo(N.shift(),N.shift());N.length;)f.lineTo(N.shift(),N.shift());f.closePath(),f.fill(),f.stroke();var O=document.createElement("div");O.setAttribute("class","qrcode-tooltip-temp"),O.innerText=h.value;var I=document.createElement("div");I.setAttribute("class","qrcode-tooltip"),I.appendChild(O),o=d/a,r=d*c/i,I.style.fontSize=15*r+"px",I.style.top=A*o+"px",I.style.left=b*r+.5*(s-d*c)+"px",I.style.width=(R-b)*o+"px",I.style.height=(E-A)*o+"px";var x=document.createElement("span");x.innerText=h.value,x.style.fontSize=13*r+"px",x.style.top=A*o+-20*o+"px",x.style.left=b*r+.5*(s-d*c)+"px",n&&(n.appendChild(I),n.appendChild(x),n.appendChild(p))}},v=function(n,e){var u=D(e,"decode")?e.decode:s.decode;return new Promise(function(l,t){var e=new FileReader;e.onload=function(){var s={name:n.name,file:n,url:URL.createObjectURL(n)},d=new Image;d.setAttribute("crossOrigin","anonymous"),d.onload=function(){return h(f,void 0,void 0,function(){var t,n,r,o,i,a,c;return p(this,function(e){switch(e.label){case 0:return(t=document.createElement("canvas")).width=d.naturalWidth||d.width,t.height=d.naturalHeight||d.height,(n=t.getContext("2d")).drawImage(d,0,0,t.width,t.height),r=n.getImageData(0,0,t.width,t.height),[4,zbarWasm.scanImageData(r)];case 1:return(o=e.sent())&&o.length?(o.forEach(function(e){return e.value=e.decode(u&&u.toLocaleLowerCase())}),function(e,t){for(var n=t.getContext("2d",{willReadFrequently:!0}),r=0;r<e.length;r++){for(var o=e[r],i={},a=[],c=[],s=o.points,d=0;d<s.length;d++){var l=D(s,d+".x")?s[d].x:0,u=D(s,d+".y")?s[d].y:0;i["x"+(d+1)]=l,i["y"+(d+1)]=u,a.push(l),c.push(u)}var h=Math.min.apply(Math,T(a)),p=Math.min.apply(Math,T(c));n.lineWidth=1,n.strokeStyle="green",n.fillStyle="#55f02880",n.font="15px serif",m(n,o.value,h,p-5);for(var f=[],v=0;v<a.length;v++)f.push(i["x"+(v+1)]),f.push(i["y"+(v+1)]);var C=f.slice(0);for(n.beginPath(),n.moveTo(C.shift(),C.shift());C.length;)n.lineTo(C.shift(),C.shift());n.closePath(),n.fill(),n.stroke()}}(o,t),[4,C(t)]):[3,3];case 2:return i=e.sent(),a=URL.createObjectURL(i),c=function(e,t){return new File([e],t,{lastModified:(new Date).getTime(),type:e.type})},l(Object.assign({},s,{data:o,url:a,canvas:t,file:c(i,s.name)})),[3,4];case 3:l(Object.assign({},s,{data:o,canvas:t})),e.label=4;case 4:return[2]}})})},d.src=s.url},e.onerror=function(e){return t(e)},e.readAsDataURL(n)})},C=function(n,r){return new Promise(function(t,e){return n.toBlob(function(e){return t(e)},r)})},_=function(e,t,n){return void 0===e&&(e=[]),void 0===n&&(n=new a.AsyncSubject),Promise.all(Object.assign([],e).map(function(e){return v(e,t)})).then(function(e){return d(n,e)})["catch"](function(e){return d(n,null,e)}),n},m=function(e,t,n,r){for(var o=1.2*e.measureText("M").width,i=t.split("\n"),a=0;a<i.length;++a)e.fillText(i[a],n,r),e.strokeText(i[a],n,r),r+=o},y=function(e){e&&g()&&window.navigator.vibrate(e)},g=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))},S=function(){function e(){}return e.prototype.loadFiles=function(e){var t=this;void 0===e&&(e=[]);var n=new a.AsyncSubject;return Promise.all(Object.assign([],e).map(function(e){return t.readAsDataURL(e)})).then(function(e){return d(n,e)})["catch"](function(e){return d(n,null,e)}),n},e.prototype.loadFilesToScan=function(e,t){return void 0===e&&(e=[]),_(e,t)},e.prototype.readAsDataURL=function(r){return new Promise(function(t,n){var e=new FileReader;e.onload=function(){var e={name:r.name,file:r,url:URL.createObjectURL(r)};t(e)},e.onerror=function(e){return n(e)},e.readAsDataURL(r)})},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=t.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),R=function(){function e(){this.event=new t.EventEmitter,this.src=s.src,this.fps=s.fps,this.vibrate=s.vibrate,this.decode=s.decode,this.isBeep=s.isBeep,this.deviceActive=s.deviceActive,this.config=s,this.constraints=s.constraints,this.isStart=!1,this.isLoading=!1,this.isTorch=!1,this.data=new a.BehaviorSubject([]),this.devices=new a.BehaviorSubject([]),this.dataForResize=[]}return e.prototype.ngOnInit=function(){this.overrideConfig(),this.src&&this.loadImage(this.src),this.resize()},e.prototype.start=function(){var e=new a.AsyncSubject;return this.isStart?d(e,!1):this.loadAllDevices(e),e},e.prototype.playDevice=function(t,n){var r=this;void 0===n&&(n=new a.AsyncSubject);var e=!this.isStart||this.getConstraints().deviceId!=t;switch(!0){case"null"==t||null==t:this.stop(),d(n,!1);break;case t&&e:stop(),this.stop(),clearInterval(this.rAF_ID),this.status(!1,!0);var o={audio:!1,video:"boolean"==typeof(this.constraints&&this.constraints.video)?{deviceId:t}:Object.assign({deviceId:t},this.constraints&&this.constraints.video)};this.deviceActive=this.devices.value.findIndex(function(e){return e.deviceId==t}),navigator.mediaDevices.getUserMedia(o).then(function(e){r.video.nativeElement.srcObject=e,r.video.nativeElement.onloadedmetadata=function(){r.video.nativeElement.play(),r.requestAnimationFrame(),r.status(!0,!1),d(n,!0)}})["catch"](function(e){r.status(!1,!1),r.eventEmit(!1),d(n,!1,e)});break;default:d(n,!1)}return n},e.prototype.stop=function(){this.eventEmit(null),this.status(!1,!1);var t=new a.AsyncSubject;try{this.removeCanvas(),clearInterval(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(function(e){e.stop(),d(t,!0)})}catch(e){d(t,!1,e)}return t},e.prototype.play=function(){var e=new a.AsyncSubject;return this.isPause?(this.video.nativeElement.play(),this.requestAnimationFrame(),d(e,!0)):d(e,!1),e},e.prototype.pause=function(){var e=new a.AsyncSubject;return this.isStart?(clearInterval(this.rAF_ID),this.video.nativeElement.pause(),d(e,!0)):d(e,!1),e},e.prototype.loadImage=function(e){var t=this,n=new a.AsyncSubject;this.status(!1,!0);var r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=function(){t.drawImage(r,function(e){t.status(!1,!1),d(n,e)})},r.src=e,n},e.prototype.torcher=function(){var e=this,t=this.applyConstraints({torch:this.isTorch});return t.subscribe(function(){return!1},function(){return e.isTorch=!e.isTorch}),t},e.prototype.applyConstraints=function(t){var e=this,n=new a.AsyncSubject,r=this.video.nativeElement.srcObject.getVideoTracks()[0];return new window.ImageCapture(r).getPhotoCapabilities().then(function(){return h(e,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,r.applyConstraints({advanced:[t]})];case 1:return e.sent(),d(n,!0),[2]}})})})["catch"](function(e){switch(e&&e.name){case"NotFoundError":case"DevicesNotFoundError":d(n,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":d(n,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":d(n,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":d(n,!1,"Permission denied in browser");break;case"TypeError":d(n,!1,"Empty constraints object");break;default:d(n,!1,e)}}),n},e.prototype.getConstraints=function(){var e=this.video.nativeElement.srcObject,t=e&&e.getVideoTracks()[0];return t&&t.getConstraints()},e.prototype.download=function(o){var e=this;void 0===o&&(o="ngx-scanner-qrcode-"+Date.now()+".png");var i=new a.AsyncSubject;return h(e,void 0,void 0,function(){var n,r;return p(this,function(e){switch(e.label){case 0:return[4,C(this.canvas.nativeElement)];case 1:return n=e.sent(),t=n,r=new File([t],o,{lastModified:(new Date).getTime(),type:t.type}),_([r],this.config,i).subscribe(function(e){e.forEach(function(e){var t=document.createElement("a");t.href=e.url,t.download=e.name,t.click(),t.remove()})}),[2]}var t})}),i},e.prototype.resize=function(){var e=this;window.addEventListener("resize",function(){e.dataForResize&&e.dataForResize.length&&u(e.dataForResize,e.canvas.nativeElement,e.resultsPanel.nativeElement)})},e.prototype.overrideConfig=function(){D(this.config,"src")&&(this.src=this.config.src),D(this.config,"fps")&&(this.fps=this.config.fps),D(this.config,"vibrate")&&(this.vibrate=this.config.vibrate),D(this.config,"decode")&&(this.decode=this.config.decode),D(this.config,"isBeep")&&(this.isBeep=this.config.isBeep),D(this.config,"deviceActive")&&(this.deviceActive=this.config.deviceActive),D(this.config,"constraints")&&(this.constraints=function(e,t,n){var r;if(t&&Object.keys(t[e]).length){for(var o in n){var i=JSON.parse(JSON.stringify(c({},t[e],((r={})[o]=n[o],r))));t[e]=t[e].hasOwnProperty(o)?t[e]:i}return t[e]}return n}("constraints",this.config,i))},e.prototype.loadAllDevices=function(r){var o=this;navigator.mediaDevices.enumerateDevices().then(function(e){var t=[];if(e.forEach(function(e){return"videoinput"==e.kind&&t.push(e)}),o.devices.next(t),0<t.length){var n=Math.max(0,t.length>o.deviceActive?o.deviceActive:0);o.playDevice(t[n].deviceId,r)}else d(r,!1,"No camera detected.")})},e.prototype.drawImage=function(c,s){return void 0===s&&(s=function(){}),h(this,void 0,void 0,function(){var t,n,r,o,i,a=this;return p(this,function(e){switch(e.label){case 0:return t=this.canvas.nativeElement,n=t.getContext("2d",{willReadFrequently:!0}),c instanceof HTMLImageElement&&(t.width=c.naturalWidth,t.height=c.naturalHeight,c.style.visibility="",this.video.nativeElement.style.visibility="hidden",this.video.nativeElement.style.height=t.offsetHeight+"px"),c instanceof HTMLVideoElement&&(t.width=c.videoWidth,t.height=c.videoHeight,c.style.visibility="",this.canvas.nativeElement.style.visibility="hidden"),n.clearRect(0,0,t.width,t.height),n.drawImage(c,0,0,t.width,t.height),r=n.getImageData(0,0,t.width,t.height),[4,zbarWasm.scanImageData(r)];case 1:return(o=e.sent())&&o.length?(o.forEach(function(e){return e.value=e.decode(a.decode&&a.decode.toLocaleLowerCase())}),u(o,Object.freeze(this.canvas.nativeElement),this.resultsPanel.nativeElement),i=function(){a.eventEmit(o),a.dataForResize=o},c instanceof HTMLImageElement&&(s(!0),i(),y(this.vibrate),l(this.isBeep)),c instanceof HTMLVideoElement&&(i(),y(this.vibrate),l(this.isBeep))):(s(!1),this.removeCanvas(),this.dataForResize=o),[2]}})})},e.prototype.removeCanvas=function(){var t=this;Object.assign([],this.resultsPanel.nativeElement.childNodes).forEach(function(e){return t.resultsPanel.nativeElement.removeChild(e)})},e.prototype.status=function(e,t){this.isStart=e,this.isLoading=t},e.prototype.eventEmit=function(e){void 0===e&&(e=!1),!1!==e&&this.data.next(e||{data:null}),!1!==e&&this.event.emit(e||{data:null})},e.prototype.requestAnimationFrame=function(){var e=this;this.rAF_ID=setInterval(function(){e.video.nativeElement.readyState===e.video.nativeElement.HAVE_ENOUGH_DATA&&e.drawImage(e.video.nativeElement)},this.fps)},Object.defineProperty(e.prototype,"isPause",{get:function(){return this.isStart&&this.video.nativeElement.paused},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.pause()},e.decorators=[{type:t.Component,args:[{selector:"ngx-scanner-qrcode",template:'<div #resultsPanel class="origin-overlay"></div><canvas #canvas class="origin-canvas"></canvas><video #video playsinline class="origin-video"></video>',host:{"class":"ngx-scanner-qrcode"},exportAs:"scanner",inputs:["src","fps","vibrate","decode","isBeep","deviceActive","config","constraints"],outputs:["event"],queries:{video:new t.ViewChild("video"),canvas:new t.ViewChild("canvas"),resultsPanel:new t.ViewChild("resultsPanel")},encapsulation:t.ViewEncapsulation.None,styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;color:red;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute}.qrcode-tooltip-temp{bottom:0;left:50%;padding:5px;color:#fff;text-align:left;display:none;max-width:450px;border-radius:5px;width:-moz-max-content;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}"]}]}],e}(),b={ScannerQRCode_NONE:0,ScannerQRCode_PARTIAL:1,ScannerQRCode_EAN2:2,ScannerQRCode_EAN5:5,ScannerQRCode_EAN8:8,ScannerQRCode_UPCE:9,ScannerQRCode_ISBN10:10,ScannerQRCode_UPCA:12,ScannerQRCode_EAN13:13,ScannerQRCode_ISBN13:14,ScannerQRCode_COMPOSITE:15,ScannerQRCode_I25:25,ScannerQRCode_DATABAR:34,ScannerQRCode_DATABAR_EXP:35,ScannerQRCode_CODABAR:38,ScannerQRCode_CODE39:39,ScannerQRCode_PDF417:57,ScannerQRCode_QRCODE:64,ScannerQRCode_SQCODE:80,ScannerQRCode_CODE93:93,ScannerQRCode_CODE128:128,ScannerQRCode_SYMBOL:255,ScannerQRCode_ADDON2:512,ScannerQRCode_ADDON5:1280,ScannerQRCode_ADDON:1792};b[b.ScannerQRCode_NONE]="ScannerQRCode_NONE",b[b.ScannerQRCode_PARTIAL]="ScannerQRCode_PARTIAL",b[b.ScannerQRCode_EAN2]="ScannerQRCode_EAN2",b[b.ScannerQRCode_EAN5]="ScannerQRCode_EAN5",b[b.ScannerQRCode_EAN8]="ScannerQRCode_EAN8",b[b.ScannerQRCode_UPCE]="ScannerQRCode_UPCE",b[b.ScannerQRCode_ISBN10]="ScannerQRCode_ISBN10",b[b.ScannerQRCode_UPCA]="ScannerQRCode_UPCA",b[b.ScannerQRCode_EAN13]="ScannerQRCode_EAN13",b[b.ScannerQRCode_ISBN13]="ScannerQRCode_ISBN13",b[b.ScannerQRCode_COMPOSITE]="ScannerQRCode_COMPOSITE",b[b.ScannerQRCode_I25]="ScannerQRCode_I25",b[b.ScannerQRCode_DATABAR]="ScannerQRCode_DATABAR",b[b.ScannerQRCode_DATABAR_EXP]="ScannerQRCode_DATABAR_EXP",b[b.ScannerQRCode_CODABAR]="ScannerQRCode_CODABAR",b[b.ScannerQRCode_CODE39]="ScannerQRCode_CODE39",b[b.ScannerQRCode_PDF417]="ScannerQRCode_PDF417",b[b.ScannerQRCode_QRCODE]="ScannerQRCode_QRCODE",b[b.ScannerQRCode_SQCODE]="ScannerQRCode_SQCODE",b[b.ScannerQRCode_CODE93]="ScannerQRCode_CODE93",b[b.ScannerQRCode_CODE128]="ScannerQRCode_CODE128",b[b.ScannerQRCode_SYMBOL]="ScannerQRCode_SYMBOL",b[b.ScannerQRCode_ADDON2]="ScannerQRCode_ADDON2",b[b.ScannerQRCode_ADDON5]="ScannerQRCode_ADDON5",b[b.ScannerQRCode_ADDON]="ScannerQRCode_ADDON";var E={ScannerQRCode_CFG_ENABLE:0,ScannerQRCode_CFG_ADD_CHECK:1,ScannerQRCode_CFG_EMIT_CHECK:2,ScannerQRCode_CFG_ASCII:3,ScannerQRCode_CFG_BINARY:4,ScannerQRCode_CFG_NUM:5,ScannerQRCode_CFG_MIN_LEN:32,ScannerQRCode_CFG_MAX_LEN:33,ScannerQRCode_CFG_UNCERTAINTY:64,ScannerQRCode_CFG_POSITION:128,ScannerQRCode_CFG_TEST_INVERTED:129,ScannerQRCode_CFG_X_DENSITY:256,ScannerQRCode_CFG_Y_DENSITY:257};E[E.ScannerQRCode_CFG_ENABLE]="ScannerQRCode_CFG_ENABLE",E[E.ScannerQRCode_CFG_ADD_CHECK]="ScannerQRCode_CFG_ADD_CHECK",E[E.ScannerQRCode_CFG_EMIT_CHECK]="ScannerQRCode_CFG_EMIT_CHECK",E[E.ScannerQRCode_CFG_ASCII]="ScannerQRCode_CFG_ASCII",E[E.ScannerQRCode_CFG_BINARY]="ScannerQRCode_CFG_BINARY",E[E.ScannerQRCode_CFG_NUM]="ScannerQRCode_CFG_NUM",E[E.ScannerQRCode_CFG_MIN_LEN]="ScannerQRCode_CFG_MIN_LEN",E[E.ScannerQRCode_CFG_MAX_LEN]="ScannerQRCode_CFG_MAX_LEN",E[E.ScannerQRCode_CFG_UNCERTAINTY]="ScannerQRCode_CFG_UNCERTAINTY",E[E.ScannerQRCode_CFG_POSITION]="ScannerQRCode_CFG_POSITION",E[E.ScannerQRCode_CFG_TEST_INVERTED]="ScannerQRCode_CFG_TEST_INVERTED",E[E.ScannerQRCode_CFG_X_DENSITY]="ScannerQRCode_CFG_X_DENSITY",E[E.ScannerQRCode_CFG_Y_DENSITY]="ScannerQRCode_CFG_Y_DENSITY";var A={ScannerQRCode_ORIENT_UNKNOWN:-1,ScannerQRCode_ORIENT_UP:0,ScannerQRCode_ORIENT_RIGHT:1,ScannerQRCode_ORIENT_DOWN:2,ScannerQRCode_ORIENT_LEFT:3};A[A.ScannerQRCode_ORIENT_UNKNOWN]="ScannerQRCode_ORIENT_UNKNOWN",A[A.ScannerQRCode_ORIENT_UP]="ScannerQRCode_ORIENT_UP",A[A.ScannerQRCode_ORIENT_RIGHT]="ScannerQRCode_ORIENT_RIGHT",A[A.ScannerQRCode_ORIENT_DOWN]="ScannerQRCode_ORIENT_DOWN",A[A.ScannerQRCode_ORIENT_LEFT]="ScannerQRCode_ORIENT_LEFT";var w=function x(e,t){this.ptr=e,this.ptr32=e>>2,this.buf=t,this.HEAP8=new Int8Array(t),this.HEAPU32=new Uint32Array(t),this.HEAP32=new Int32Array(t)},Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.HEAPU32[this.ptr32]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var e=this.HEAPU32[this.ptr32+4],t=this.HEAPU32[this.ptr32+5];return Int8Array.from(this.HEAP8.subarray(t,t+e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"points",{get:function(){for(var e=this.HEAPU32[this.ptr32+7],t=this.HEAPU32[this.ptr32+8]>>2,n=[],r=0;r<e;++r){var o=this.HEAP32[t+2*r],i=this.HEAP32[t+2*r+1];n.push({x:o,y:i})}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.HEAP32[this.ptr32+9]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){var e=this.HEAPU32[this.ptr32+11];return e?new t(e,this.buf):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this.HEAPU32[this.ptr32+13]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cacheCount",{get:function(){return this.HEAP32[this.ptr32+14]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.HEAP32[this.ptr32+15]},enumerable:!0,configurable:!0}),t}(w),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"head",{get:function(){var e=this.HEAPU32[this.ptr32+2];return e?new Q(e,this.buf):null},enumerable:!0,configurable:!0}),t}(w),O=function(){function o(e){this.value="",this.type=e.type,this.typeName=b[this.type],this.data=e.data,this.points=e.points,this.orientation=e.orientation,this.time=e.time,this.cacheCount=e.cacheCount,this.quality=e.quality}return o.createSymbolsFromPtr=function(e,t){if(0==e)return[];for(var n=new N(e,t).head,r=[];null!==n;)r.push(new o(n)),n=n.next;return r},o.prototype.decode=function(e){return new TextDecoder(e).decode(this.data)},o}(),I=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[R],exports:[R],providers:[S]}]}],e}();e.NgxScannerQrcodeService=S,e.NgxScannerQrcodeComponent=R,e.ScannerQRCodeSymbolType=b,e.ScannerQRCodeConfigType=E,e.ScannerQRCodeOrientation=A,e.ScannerQRCodeResult=O,e.NgxScannerQrcodeModule=I,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-scanner-qrcode.umd.min.js.map