<mat-sidenav-container class="example-container" [hasBackdrop]="true">
    <mat-sidenav-content style="min-height: 80vh; margin-top: -8px;">
        <div class="ml-12 mr-12 mt-12 pb-20">
            <div fxLayout="row" fxLayoutGap="10">
                <div fxFlex="30%">
                    <!-- CUSTOMER SEARCH -->
                    <mat-card>
                        <mat-card-title>Ãœye Arama</mat-card-title>
                        <mat-card-subtitle>Ãœye arayÄ±n veya yeni Ã¼ye ekleyin.</mat-card-subtitle>
                        <mat-card-content>
                            <fast-autocomplete [style.width.%]="100" placeholder="{{ 'DASHBOARD.SEARCHCUSTOMER' | translate }}"
                                               [initValue]="searchCustomerId" [endpoint]="'/Customer/GetListForCombo'"
                                               (onChange)="onChange($event)">
                            </fast-autocomplete>

                        </mat-card-content>
                        <mat-card-actions align="start">
                            <button mat-flat-button color="primary" (click)="newCustomerDialog()">Yeni Ãœye Ekle</button>
                            <!-- <button mat-flat-button color="primary" style="margin-left:15px;" (click)="newVaccinationDialog()">Yeni AÅŸÄ± Ekle</button> -->
                        </mat-card-actions>
                    </mat-card>
                </div>
                <div fxFlex="70%">
                    <!-- QR SEARCH -->
                    <mat-card>
                        <mat-card-title>QR TARAMA</mat-card-title>
                        <mat-card-subtitle>Ãœye QR kodunu okutun.</mat-card-subtitle>
                        <mat-card-content>
                            <mat-form-field appearance="fill">
                                <select matNativeControl matInput (change)="onDeviceSelectChange($event.target.value)">
                                    <option value="" [selected]="!currentDevice">No Device Selected</option>
                                    <option *ngFor="let device of availableDevices" [value]="device.deviceId"
                                            [selected]="currentDevice && device.deviceId === currentDevice.deviceId">
                                        {{device.label}}
                                    </option>
                                </select>
                            </mat-form-field>
                            <zxing-scanner [torch]="torchEnabled" [(device)]="currentDevice" (scanSuccess)="onCodeResult($event)"
                                           [formats]="formatsEnabled" [tryHarder]="tryHarder" (permissionResponse)="onHasPermission($event)"
                                           (camerasFound)="onCamerasFound($event)" (torchCompatible)="onTorchCompatible($event)"></zxing-scanner>
                            <section class="results" *ngIf="qrResultString">
                                <div>
                                    <small>Result</small>
                                    <strong>{{ qrResultString }}</strong>
                                </div>
                                <button mat-icon-button (click)="clearResult()">&times;</button>
                            </section>
                        </mat-card-content>
                        <mat-card-actions align="start">
                            <ng-container *ngIf="hasPermission === undefined">
                                <h2>Waiting for permissions.</h2>
                                <blockquote>
                                    If your device does not has cameras, no permissions will be asked.
                                </blockquote>
                            </ng-container>
                            <ng-container *ngIf="hasPermission === false">
                                <h2>You denied the camera permission, we can't scan anything without it. ðŸ˜ª</h2>
                            </ng-container>
                            <ng-container *ngIf="hasDevices === undefined">
                                <h2>Couldn't check for devices.</h2>
                                <blockquote>
                                    This may be caused by some security error.
                                </blockquote>
                            </ng-container>
                            <ng-container *ngIf="hasDevices === false">
                                <h2>No devices were found.</h2>
                                <blockquote>
                                    I believe your device has no media devices attached to.
                                </blockquote>
                            </ng-container>
                        </mat-card-actions>
                    </mat-card>
                </div>
            </div>
            <!-- CUSTOMER & PATIENT INFO -->
            <div fxLayout="row" fxLayoutGap="10" *ngIf="searchCustomerData">
                <div fxFlex="80%">
                    <mat-card>
                        <mat-card-title>Ãœye Bilgileri</mat-card-title>
                        <mat-card-subtitle>
                            Ãœye bilgilerini inceleyebilir veya dÃ¼zenleyebilirsiniz.
                        </mat-card-subtitle>
                        <mat-card-content>
                            <mat-list role="list">
                                <mat-list-item role="listitem">
                                    <b>AdÄ± SoyadÄ± : </b>&nbsp; {{searchCustomerData?.fullName}}
                                </mat-list-item>
                                <mat-list-item role="listitem">
                                    <b>Telefon No : </b>&nbsp; {{searchCustomerData?.phoneNumber}}
                                </mat-list-item>
                                <mat-list-item role="listitem">
                                    <b>TC No : </b>&nbsp; {{searchCustomerData?.identityNumber}}
                                </mat-list-item>
                                <mat-list-item role="listitem">
                                    <b>Adres : </b>&nbsp; {{searchCustomerData?.address}}
                                </mat-list-item>
                            </mat-list>
                        </mat-card-content>
                        <mat-card-actions align="start">
                            <button mat-flat-button color="accent" (click)="editCustomerDialog(searchCustomerData)">Bilgileri GÃ¼ncelle</button>
                        </mat-card-actions>
                    </mat-card>
                </div>
                <mat-divider [vertical]="true"></mat-divider>
                <div fxFlex="20%">
                    <mat-card>
                        <mat-card-title>QR Kod</mat-card-title>
                        <mat-card-subtitle>
                        </mat-card-subtitle>
                        <mat-card-content>
                            <qrcode [qrdata]="'Test'" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>
                        </mat-card-content>
                    </mat-card>
                </div>
            </div>
        </div>
        <mat-spinner *ngIf="this.showSpinner === true" style="margin:0 auto; margin-top:150px;">
        </mat-spinner>
    </mat-sidenav-content>
</mat-sidenav-container>